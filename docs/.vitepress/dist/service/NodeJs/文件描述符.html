<!DOCTYPE html>
<html lang="en-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>澜漾</title>
    <meta name="description" content="广天下之广,深天下之深">
    <link rel="stylesheet" href="/assets/style.49f07aca.css">
    <link rel="modulepreload" href="/assets/Home.b9b6273f.js">
    <link rel="modulepreload" href="/assets/app.1760f824.js">
    <link rel="modulepreload" href="/assets/service_NodeJs_文件描述符.md.e4a5e3d5.lean.js">
    
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
  <meta name="keywords" content="澜漾">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.css">
  <script src="https://lib.baomitu.com/gitalk/1.7.0/gitalk.min.js"></script>
  <script src="https://lib.baomitu.com/axios/0.21.1/axios.js"></script>
  <meta name="twitter:title" content="澜漾">
  <meta property="og:title" content="澜漾">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-d186b2c2><div class="sidebar-button" data-v-d186b2c2><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="澜漾, back to home" data-v-d186b2c2 data-v-34a93bc8><img class="logo" src="/logo2.jpg" alt="Logo" data-v-34a93bc8> 澜漾</a><div class="flex-grow" data-v-d186b2c2></div><div class="nav" data-v-d186b2c2><nav class="nav-links" data-v-d186b2c2 data-v-30b7e073><!--[--><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/" data-v-711da5ba>🏠 首页 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/home/home" data-v-711da5ba>码上行动 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/IDEShortcutKey/WebStorm" data-v-711da5ba>编辑器快捷键 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/environmentConstruction/index" data-v-711da5ba>环境搭建 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/windowSystem/index" data-v-711da5ba>windowSkills <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/service/Linux/index" data-v-711da5ba>linuxSkills <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/about/index" data-v-711da5ba>🔨关于 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/concat/index" data-v-711da5ba>👫友情链接 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/temporary/index" data-v-711da5ba>临时存储 <!----></a></div></div><!--]--><!----><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item isExternal" href="https://github.com/qdcz" target="_blank" rel="noopener noreferrer" data-v-711da5ba>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-711da5ba><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-7e9d9da8><nav class="nav-links nav" data-v-7e9d9da8 data-v-30b7e073><!--[--><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/" data-v-711da5ba>🏠 首页 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/home/home" data-v-711da5ba>码上行动 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/IDEShortcutKey/WebStorm" data-v-711da5ba>编辑器快捷键 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/environmentConstruction/index" data-v-711da5ba>环境搭建 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/windowSystem/index" data-v-711da5ba>windowSkills <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/service/Linux/index" data-v-711da5ba>linuxSkills <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/about/index" data-v-711da5ba>🔨关于 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/concat/index" data-v-711da5ba>👫友情链接 <!----></a></div></div><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item" href="/temporary/index" data-v-711da5ba>临时存储 <!----></a></div></div><!--]--><!----><div class="item" data-v-30b7e073><div class="nav-link" data-v-30b7e073 data-v-711da5ba><a class="item isExternal" href="https://github.com/qdcz" target="_blank" rel="noopener noreferrer" data-v-711da5ba>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-711da5ba><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><!----><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-f058c2ee><div class="container" data-v-f058c2ee><!--[--><!--]--><div style="position:relative;" class="content" data-v-f058c2ee><div><p>什么是文件描述符？</p><p>在linux中的设计思想就是一切皆文件，网络是文件，键盘等外设也是文件，于是所有资源都有了统一的接口，开发者可以像写文件那样通过网络传输数据， 我们也可以通过/proc/的文件看到进程的资源使用情况。</p><p>内核给每个访问的文件分配了文件描述符(File Descriptor)，它本质是一个非负整数，在打开或新建文件时返回，以后读写文件都要通过这个文件描述符了。</p><p>对于操作系统打开的文件这么多，他们不可能共用一套文件描述符整数，Linux实现这个fd，其实是一个索引值，指向每个进程打开文件的记录表。</p><p>POSIX( 可移植操作系统接口 )已经定义了STDIN_FILENO、STDOUT_FILENO和STDERR_FILENO三个常量，也就是0、1、2。这三个文件描述符是每个进程都有的，这也解释了为什么每个进程都有编号为0、1、2的文件而不会与其他进程冲突。(标准输入0， 标准输出1，标准错误2)</p><p>文件描述符帮助应用找到这个文件，而文件的打开模式等上下文信息存储在文件对象中，这个对象直接与文件描述符关联。</p><p>限制 注意了，每个系统对文件描述符个数都有限制。我们网上看到配置ulimit也是为了调大系统的打开文件个数，因为一般服务器都要同时处理成千上万个起请求，记住socket连接也是文件哦，使用系统默认值会出现莫名奇怪的问题。如服务宕机</p><p>讲文件描述符其实是为高深莫测的epoll做铺垫，掌握epoll对进程已经有很深的理解了。</p><p>C语言程序会默认打开3个输入输出流，其中这三个输入输出流对应的名为stdin，stdout，stderr，文件类型为FILE*，而FILE*是C语言的概念，底层对应的文件描述符，其中stdin对应0，stdout对应1，stderr对应2，换言之012被默认已经打开了，再打开时就是从3开始打开了，所谓的文件描述符，本质其实就是数组下标</p></div></div><footer class="page-footer" data-v-f058c2ee data-v-4d1950e8><div class="edit" data-v-4d1950e8><div class="edit-link" data-v-4d1950e8 data-v-d1f281aa><!----></div></div><div class="updated" data-v-4d1950e8><p class="last-updated" data-v-4d1950e8 data-v-01ad1c9a><span class="prefix" data-v-01ad1c9a>最近更新时间:</span><span class="datetime" data-v-01ad1c9a></span></p></div></footer><!----><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"ideshortcutkey_webstorm.md\":\"19c4ae71\",\"about_index.md\":\"be45de70\",\"client_electron_base.md\":\"1d881de0\",\"client_electron_index.md\":\"c432582b\",\"client_typescript_index.md\":\"ff455ba9\",\"client_css_滚动条.md\":\"58516aa0\",\"client_javascript_xmlhttprequest.md\":\"6f49cf58\",\"client_javascript_base.md\":\"cd88cb16\",\"client_javascript_index.md\":\"1e16a282\",\"client_javascript_函数.md\":\"0959e7ca\",\"concat_index.md\":\"8ba38e07\",\"environmentconstruction_index.md\":\"83171eeb\",\"environmentconstruction_linux.md\":\"d87ef34b\",\"environmentconstruction_mongodb离线安装.md\":\"d53b145c\",\"environmentconstruction_mysql离线安装.md\":\"9526a905\",\"environmentconstruction_nginx.md\":\"a5bbc935\",\"environmentconstruction_redis离线安装.md\":\"cff6f538\",\"home_home.md\":\"bdda725b\",\"index.md\":\"999f742a\",\"interest_drug_index.md\":\"1209e85f\",\"interest_music_index.md\":\"625298a8\",\"npmpackage_index.md\":\"690a873d\",\"npmpackage_log4js.md\":\"8c2ee6a3\",\"qdcz-note.md\":\"01ac23f3\",\"service_linux_index.md\":\"b50fb82d\",\"service_linux_linux.md\":\"8351125d\",\"service_linux_存储单位.md\":\"e6f14abf\",\"service_mongodb_base.md\":\"c72e94f2\",\"service_mongodb_index.md\":\"07dce089\",\"service_mongodb_建立ttl索引.md\":\"96872d71\",\"service_nginx_index.md\":\"fb582ecc\",\"service_nginx_window版本.md\":\"1ae79a1d\",\"service_nodejs_base.md\":\"f724d3c1\",\"service_nodejs_buffer.md\":\"773c745e\",\"service_nodejs_index.md\":\"1e9b9708\",\"service_nodejs_process.md\":\"8f521494\",\"service_nodejs_stream.md\":\"4c62e57a\",\"service_nodejs_工具函数.md\":\"9e14031f\",\"service_nodejs_文件描述符.md\":\"e4a5e3d5\",\"service_nodejs_日志系统记录.md\":\"b0edc299\",\"service_nodejs_混淆编译打包.md\":\"045edeb3\",\"service_nodejs_锁.md\":\"cc245d7c\",\"softwareengineering_面向对象编程.md\":\"676219dd\",\"temporary_index.md\":\"86377c67\",\"temporary_recentplan.md\":\"4f39be33\",\"temporary_websocketforauthbynodejs.md\":\"914ee2ad\",\"temporary_work_day_work_report.md\":\"51ddcd7c\",\"temporary_work_todayplan.md\":\"f76512b0\",\"temporary_work_weekly_work_report.md\":\"8582985c\",\"windowsystem_index.md\":\"e3b3cf52\",\"windowsystem_创建本地共享文件夹.md\":\"3c3fdf2d\"}")</script>
    <script type="module" async src="/assets/app.1760f824.js"></script>
    
  </body>
</html>